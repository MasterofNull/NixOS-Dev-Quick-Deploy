# NixOS AI Stack Environment Configuration
# Copy to .env and customize as needed
# Version: 3.1.0 (December 2025 - Vulkan GPU Support)

# ============================================================================
# Model Configuration
# ============================================================================
LLAMA_CPP_MODEL_FILE=qwen2.5-coder-7b-instruct-q4_k_m.gguf
LLAMA_CPP_DEFAULT_MODEL=Qwen/Qwen2.5-Coder-7B-Instruct

# ============================================================================  
# GPU Acceleration (Vulkan) - NEW!
# ============================================================================
# Enable Vulkan GPU acceleration for AMD/Intel/NVIDIA GPUs
# Recommended for AMD iGPU users - 2-5x faster inference!
#
# To enable: Uncomment the lines below
# LLAMA_VULKAN_ENABLE=1
# LLAMA_GPU_LAYERS=33

# Vulkan ICD (Installable Client Driver) paths
# AMD Radeon (default):
# VK_ICD_FILENAMES=/usr/share/vulkan/icd.d/radeon_icd.x86_64.json
#
# Intel:
# VK_ICD_FILENAMES=/usr/share/vulkan/icd.d/intel_icd.x86_64.json
#
# NVIDIA:
# VK_ICD_FILENAMES=/usr/share/vulkan/icd.d/nvidia_icd.json

# ============================================================================
# llama.cpp Performance Tuning
# ============================================================================
LLAMA_CTX_SIZE=8192
LLAMA_THREADS=0  # 0 = auto-detect
LLAMA_BATCH_SIZE=512
LLAMA_UBATCH_SIZE=128
LLAMA_PARALLEL=4
LLAMA_CACHE_TYPE_K=q4_0
LLAMA_CACHE_TYPE_V=q4_0
LLAMA_DEFRAG_THOLD=0.1

# ============================================================================
# Database Configuration
# ============================================================================
POSTGRES_DB=mcp
POSTGRES_USER=mcp
POSTGRES_PASSWORD=change_me_in_production

# ============================================================================
# Data Storage
# ============================================================================
AI_STACK_DATA=~/.local/share/nixos-ai-stack

# ============================================================================
# Continuous Learning
# ============================================================================
CONTINUOUS_LEARNING_ENABLED=true
LEARNING_PROCESSING_INTERVAL=3600
LEARNING_DATASET_THRESHOLD=1000

# ============================================================================
# Self-Healing
# ============================================================================
SELF_HEALING_ENABLED=true
SELF_HEALING_CHECK_INTERVAL=30
SELF_HEALING_COOLDOWN=60

# ============================================================================
# Ralph Wiggum Loop
# ============================================================================
RALPH_LOOP_ENABLED=true
RALPH_MAX_ITERATIONS=0  # 0 = infinite
RALPH_REQUIRE_APPROVAL=false

# ============================================================================
# External Services (Optional)
# ============================================================================
HUGGING_FACE_HUB_TOKEN=
GOOGLE_SEARCH_API_KEY=
GOOGLE_SEARCH_CX=
