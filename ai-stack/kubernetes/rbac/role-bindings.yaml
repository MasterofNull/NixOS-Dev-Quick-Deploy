# Role Bindings for Hospital AI Stack
# Binds service accounts to their roles
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: aidb-binding
  namespace: ai-stack
  labels:
    hipaa-compliance: required
subjects:
  - kind: ServiceAccount
    name: aidb
    namespace: ai-stack
roleRef:
  kind: Role
  name: aidb-role
  apiGroup: rbac.authorization.k8s.io
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: embeddings-binding
  namespace: ai-stack
  labels:
    hipaa-compliance: required
subjects:
  - kind: ServiceAccount
    name: embeddings
    namespace: ai-stack
roleRef:
  kind: Role
  name: embeddings-role
  apiGroup: rbac.authorization.k8s.io
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: hybrid-coordinator-binding
  namespace: ai-stack
  labels:
    hipaa-compliance: required
subjects:
  - kind: ServiceAccount
    name: hybrid-coordinator
    namespace: ai-stack
roleRef:
  kind: Role
  name: hybrid-coordinator-role
  apiGroup: rbac.authorization.k8s.io
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: ralph-wiggum-binding
  namespace: ai-stack
  labels:
    hipaa-compliance: required
subjects:
  - kind: ServiceAccount
    name: ralph-wiggum
    namespace: ai-stack
roleRef:
  kind: Role
  name: ralph-wiggum-role
  apiGroup: rbac.authorization.k8s.io
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: prometheus-binding
  namespace: ai-stack
  labels:
    hipaa-compliance: required
subjects:
  - kind: ServiceAccount
    name: prometheus
    namespace: ai-stack
roleRef:
  kind: Role
  name: prometheus-role
  apiGroup: rbac.authorization.k8s.io
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: prometheus-cluster-binding
  labels:
    hipaa-compliance: required
subjects:
  - kind: ServiceAccount
    name: prometheus
    namespace: ai-stack
roleRef:
  kind: ClusterRole
  name: prometheus-cluster-role
  apiGroup: rbac.authorization.k8s.io
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: backup-jobs-binding
  namespace: ai-stack
  labels:
    hipaa-compliance: required
subjects:
  - kind: ServiceAccount
    name: backup-jobs
    namespace: ai-stack
roleRef:
  kind: Role
  name: backup-jobs-role
  apiGroup: rbac.authorization.k8s.io
